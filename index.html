<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROMANO CASINO | –ú–æ–ª–æ–¥–µ–∂–Ω—ã–π –∫–ª—É–±</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- –î–æ–±–∞–≤–ª—è–µ–º Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        /* –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –∏ Google-–≤—Ö–æ–¥–∞ */
        
        .google-login-section {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .google-login-btn {
            background: #4285f4;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 10px auto;
            transition: all 0.3s ease;
        }
        
        .google-login-btn:hover {
            background: #3367d6;
            transform: translateY(-2px);
        }
        
        .user-profile-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }
        
        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid var(--neon-blue);
        }
        
        .user-details {
            text-align: left;
        }
        
        .user-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--neon-green);
        }
        
        .user-email {
            font-size: 0.9rem;
            color: #aaa;
        }
        
        .logout-btn {
            background: linear-gradient(45deg, #ff6b6b, #ff0000);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .achievements-section {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }
        
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .achievement-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px 10px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .achievement-card.locked {
            opacity: 0.5;
            filter: grayscale(1);
        }
        
        .achievement-card.unlocked {
            border-color: var(--neon-green);
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.2);
        }
        
        .achievement-icon {
            font-size: 2rem;
            margin-bottom: 8px;
        }
        
        .achievement-name {
            font-size: 0.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .achievement-reward {
            font-size: 0.7rem;
            color: var(--neon-green);
            background: rgba(0, 255, 0, 0.1);
            padding: 2px 6px;
            border-radius: 10px;
            display: inline-block;
        }
        
        .achievement-progress {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin-top: 5px;
            overflow: hidden;
        }
        
        .achievement-progress-bar {
            height: 100%;
            background: var(--neon-blue);
            transition: width 0.3s ease;
        }
        
        .achievement-notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(45deg, var(--card-bg), #1a1a3e);
            padding: 25px;
            border-radius: 15px;
            border: 3px solid var(--neon-green);
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.4);
            z-index: 10002;
            text-align: center;
            display: none;
            animation: achievementPop 0.8s ease-out;
            max-width: 300px;
            width: 90%;
        }
        
        @keyframes achievementPop {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
            70% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        
        .achievement-notification-icon {
            font-size: 4rem;
            margin-bottom: 15px;
            animation: bounce 1s infinite alternate;
        }
        
        @keyframes bounce {
            from { transform: translateY(0) scale(1); }
            to { transform: translateY(-10px) scale(1.05); }
        }
        
        .achievement-notification-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--neon-green);
            margin-bottom: 10px;
        }
        
        .achievement-notification-desc {
            margin-bottom: 15px;
            color: #ccc;
        }
        
        .achievement-notification-reward {
            font-size: 1.5rem;
            font-weight: bold;
            color: gold;
            margin: 10px 0;
        }
        
        .sync-status {
            font-size: 0.8rem;
            color: #aaa;
            margin-top: 10px;
        }
        
        .sync-status.synced {
            color: var(--neon-green);
        }
        
        .sync-status.error {
            color: #ff6b6b;
        }
    </style>
</head>
<body>
    <!-- –î–æ–±–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ -->
    <div class="achievement-notification" id="achievementNotification">
        <div class="achievement-notification-icon" id="achievementNotificationIcon">üèÜ</div>
        <div class="achievement-notification-title" id="achievementNotificationTitle">–î–û–°–¢–ò–ñ–ï–ù–ò–ï!</div>
        <div class="achievement-notification-desc" id="achievementNotificationDesc">–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
        <div class="achievement-notification-reward" id="achievementNotificationReward">+100 –º–æ–Ω–µ—Ç</div>
        <button class="modal-close" onclick="closeAchievementNotification()">–ü–û–ù–Ø–¢–ù–û</button>
    </div>

    <!-- –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–æ —Å–µ–∫—Ü–∏–∏ PROFILE -->
    
    <!-- PROFILE -->
    <div id="profile-content" class="game-content">
        <!-- –î–æ–±–∞–≤–ª—è–µ–º —Å–µ–∫—Ü–∏—é Google-–≤—Ö–æ–¥–∞ -->
        <div class="google-login-section">
            <h3><i class="fab fa-google"></i> –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ü–†–û–ì–†–ï–°–°–ê</h3>
            <div id="googleLoginButton" style="display: none;">
                <div class="g_id_signin"
                    data-type="standard"
                    data-shape="rectangular"
                    data-theme="filled_blue"
                    data-text="signin_with"
                    data-size="large"
                    data-locale="ru"
                    data-width="300">
                </div>
                <p class="sync-status">–í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ Google —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö</p>
            </div>
            
            <div id="googleUserInfo" style="display: none;">
                <div class="user-profile-info">
                    <img class="user-avatar" id="userAvatar" src="" alt="–ê–≤–∞—Ç–∞—Ä">
                    <div class="user-details">
                        <div class="user-name" id="userName">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
                        <div class="user-email" id="userEmail">email@example.com</div>
                        <button class="logout-btn" onclick="googleLogout()"><i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏</button>
                    </div>
                </div>
                <p class="sync-status synced" id="syncStatus"><i class="fas fa-check-circle"></i> –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω</p>
            </div>
        </div>

        <div class="profile-stats">
            <h2 class="profile-title">–í–ê–® –ü–†–û–§–ò–õ–¨</h2>
            
            <div class="stats-grid">
                <!-- –°—Ç–∞—Ä–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Å—Ç–∞–µ—Ç—Å—è -->
                <div class="stat-card">
                    <i class="fas fa-id-card"></i>
                    <div class="stat-value" id="profileUserId">user_001</div>
                    <div class="stat-label">–í–ê–® ID</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-coins"></i>
                    <div class="stat-value" id="profileBalance">100</div>
                    <div class="stat-label">–¢–ï–ö–£–©–ò–ô –ë–ê–õ–ê–ù–°</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-trophy"></i>
                    <div class="stat-value" id="achievementsCount">0</div>
                    <div class="stat-label">–î–û–°–¢–ò–ñ–ï–ù–ò–Ø</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-chart-line"></i>
                    <div class="stat-value" id="totalWins">0</div>
                    <div class="stat-label">–û–ë–©–ò–ô –í–´–ò–ì–†–´–®</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-chart-bar"></i>
                    <div class="stat-value" id="totalLosses">0</div>
                    <div class="stat-label">–û–ë–©–ò–ô –ü–†–û–ò–ì–†–´–®</div>
                </div>
                
                <div class="stat-card">
                    <i class="fas fa-sliders-h"></i>
                    <div class="stat-value" id="totalSpins">0</div>
                    <div class="stat-label">–í–°–ï–ì–û –°–ü–ò–ù–û–í</div>
                </div>
            </div>

            <!-- –î–æ–±–∞–≤–ª—è–µ–º —Å–µ–∫—Ü–∏—é –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
            <div class="achievements-section">
                <h3><i class="fas fa-trophy"></i> –í–ê–®–ò –î–û–°–¢–ò–ñ–ï–ù–ò–Ø</h3>
                <div class="achievements-grid" id="achievementsGrid">
                    <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                </div>
            </div>

            <div class="profile-actions">
                <button class="action-btn deposit-btn" onclick="showDepositModal()">
                    <i class="fas fa-wallet"></i> –ü–û–ü–û–õ–ù–ò–¢–¨ / –í–´–í–ï–°–¢–ò
                </button>
                
                <button class="action-btn sound-toggle-btn" id="soundToggleBtn">
                    <i class="fas fa-volume-up"></i> –ó–í–£–ö–ò: –í–ö–õ
                </button>
            </div>
        </div>

        <!-- –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –ø—Ä–æ—Ñ–∏–ª—è -->
    </div>

    <script>
        // ========== –°–ò–°–¢–ï–ú–ê –î–û–°–¢–ò–ñ–ï–ù–ò–ô ==========
        const achievements = {
            first_win: {
                id: 'first_win',
                name: '–ü–µ—Ä–≤—ã–π –≤—ã–∏–≥—Ä—ã—à',
                description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ –ø–µ—Ä–≤—É—é –∏–≥—Ä—É',
                icon: 'üí∞',
                reward: 50,
                condition: (stats) => stats.totalWins > 0,
                progress: (stats) => stats.totalWins > 0 ? 100 : 0
            },
            jackpot_king: {
                id: 'jackpot_king',
                name: '–ö–æ—Ä–æ–ª—å –¥–∂–µ–∫–ø–æ—Ç–∞',
                description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ –¥–∂–µ–∫–ø–æ—Ç –≤ —Å–ª–æ—Ç–∞—Ö',
                icon: 'üëë',
                reward: 200,
                condition: (stats) => stats.jackpotsWon > 0,
                progress: (stats) => stats.jackpotsWon > 0 ? 100 : 0
            },
            risk_taker: {
                id: 'risk_taker',
                name: '–°–æ—Ä–≤–∏–≥–æ–ª–æ–≤–∞',
                description: '–°–¥–µ–ª–∞–π—Ç–µ 10 —Å—Ç–∞–≤–æ–∫ –≤ –∫—Ä–∞—à-–∏–≥—Ä–µ',
                icon: 'üé≤',
                reward: 100,
                condition: (stats) => stats.totalCrashBets >= 10,
                progress: (stats) => Math.min((stats.totalCrashBets / 10) * 100, 100)
            },
            high_roller: {
                id: 'high_roller',
                name: '–ö—Ä—É–ø–Ω—ã–π –∏–≥—Ä–æ–∫',
                description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ 1000 –º–æ–Ω–µ—Ç –∑–∞ –æ–¥–Ω—É –∏–≥—Ä—É',
                icon: 'üíé',
                reward: 300,
                condition: (stats) => stats.biggestWin >= 1000,
                progress: (stats) => Math.min((stats.biggestWin / 1000) * 100, 100)
            },
            spin_master: {
                id: 'spin_master',
                name: '–ú–∞—Å—Ç–µ—Ä —Å–ø–∏–Ω–æ–≤',
                description: '–°–¥–µ–ª–∞–π—Ç–µ 50 —Å–ø–∏–Ω–æ–≤',
                icon: 'üéØ',
                reward: 150,
                condition: (stats) => stats.totalSpins >= 50,
                progress: (stats) => Math.min((stats.totalSpins / 50) * 100, 100)
            },
            lucky_streak: {
                id: 'lucky_streak',
                name: '–ü–æ–ª–æ—Å–∞ –≤–µ–∑–µ–Ω–∏—è',
                description: '–í—ã–∏–≥—Ä–∞–π—Ç–µ 5 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥',
                icon: 'üçÄ',
                reward: 250,
                condition: (stats) => stats.currentWinStreak >= 5,
                progress: (stats) => Math.min((stats.currentWinStreak / 5) * 100, 100)
            },
            crash_expert: {
                id: 'crash_expert',
                name: '–≠–∫—Å–ø–µ—Ä—Ç –∫—Ä–∞—à–∞',
                description: '–ó–∞–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å–≥–∏ –Ω–∞ –º–Ω–æ–∂–∏—Ç–µ–ª–µ 5x –∏–ª–∏ –≤—ã—à–µ',
                icon: 'üöÄ',
                reward: 175,
                condition: (stats) => stats.highestCashout >= 5,
                progress: (stats) => Math.min((stats.highestCashout / 5) * 100, 100)
            },
            millionaire: {
                id: 'millionaire',
                name: '–ú–∏–ª–ª–∏–æ–Ω–µ—Ä',
                description: '–ù–∞–∫–æ–ø–∏—Ç–µ 5000 –º–æ–Ω–µ—Ç',
                icon: 'üè¶',
                reward: 500,
                condition: (stats) => stats.highestBalance >= 5000,
                progress: (stats) => Math.min((stats.highestBalance / 5000) * 100, 100)
            }
        };

        // ========== GOOGLE AUTH ==========
        let googleUser = null;
        let isGoogleAuthenticated = false;

        function initializeGoogleAuth() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
            const savedUser = localStorage.getItem('googleUser');
            if (savedUser) {
                try {
                    googleUser = JSON.parse(savedUser);
                    isGoogleAuthenticated = true;
                    showGoogleUserInfo();
                    loadCloudData();
                } catch (e) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö Google:', e);
                }
            } else {
                showGoogleLoginButton();
            }
        }

        function handleGoogleSignIn(response) {
            googleUser = {
                id: response.credential,
                name: response.name,
                email: response.email,
                picture: response.picture
            };
            
            isGoogleAuthenticated = true;
            localStorage.setItem('googleUser', JSON.stringify(googleUser));
            
            showGoogleUserInfo();
            saveCloudData();
            showNotification('‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ —á–µ—Ä–µ–∑ Google!');
        }

        function googleLogout() {
            googleUser = null;
            isGoogleAuthenticated = false;
            localStorage.removeItem('googleUser');
            showGoogleLoginButton();
            showNotification('üîí –í—ã –≤—ã—à–ª–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞');
        }

        function showGoogleLoginButton() {
            document.getElementById('googleLoginButton').style.display = 'block';
            document.getElementById('googleUserInfo').style.display = 'none';
        }

        function showGoogleUserInfo() {
            document.getElementById('googleLoginButton').style.display = 'none';
            document.getElementById('googleUserInfo').style.display = 'block';
            
            if (googleUser) {
                document.getElementById('userAvatar').src = googleUser.picture;
                document.getElementById('userName').textContent = googleUser.name;
                document.getElementById('userEmail').textContent = googleUser.email;
            }
        }

        // ========== –û–ë–õ–ê–ß–ù–û–ï –°–û–•–†–ê–ù–ï–ù–ò–ï ==========
        async function saveCloudData() {
            if (!isGoogleAuthenticated || !googleUser) return;
            
            try {
                const userData = {
                    coins: coins,
                    stats: playerStats,
                    achievements: playerStats.unlockedAchievements || [],
                    soundEnabled: soundEnabled,
                    lastSync: new Date().toISOString()
                };
                
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É
                localStorage.setItem('cloudData_' + googleUser.id, JSON.stringify(userData));
                document.getElementById('syncStatus').textContent = '‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω';
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:', error);
                document.getElementById('syncStatus').textContent = '‚ùå –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏';
            }
        }

        async function loadCloudData() {
            if (!isGoogleAuthenticated || !googleUser) return;
            
            try {
                const saved = localStorage.getItem('cloudData_' + googleUser.id);
                if (saved) {
                    const cloudData = JSON.parse(saved);
                    
                    // –û–±—ä–µ–¥–∏–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º–∏
                    coins = Math.max(coins, cloudData.coins || coins);
                    playerStats = { ...playerStats, ...cloudData.stats };
                    playerStats.unlockedAchievements = cloudData.achievements || [];
                    soundEnabled = cloudData.soundEnabled !== undefined ? cloudData.soundEnabled : soundEnabled;
                    
                    updateUI();
                    checkAchievements();
                }
                
                document.getElementById('syncStatus').textContent = '‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã';
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ –æ–±–ª–∞–∫–∞:', error);
                document.getElementById('syncStatus').textContent = '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
            }
        }

        // ========== –°–ò–°–¢–ï–ú–ê –î–û–°–¢–ò–ñ–ï–ù–ò–ô ==========
        function initializeAchievements() {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
            if (!playerStats.unlockedAchievements) {
                playerStats.unlockedAchievements = [];
            }
            if (!playerStats.jackpotsWon) playerStats.jackpotsWon = 0;
            if (!playerStats.currentWinStreak) playerStats.currentWinStreak = 0;
            if (!playerStats.highestCashout) playerStats.highestCashout = 0;
            if (!playerStats.highestBalance) playerStats.highestBalance = coins;
            
            updateAchievementsDisplay();
        }

        function checkAchievements() {
            let newAchievements = [];
            
            for (const [key, achievement] of Object.entries(achievements)) {
                // –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ –µ—â–µ –Ω–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –∏ —É—Å–ª–æ–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
                if (!playerStats.unlockedAchievements.includes(key) && achievement.condition(playerStats)) {
                    playerStats.unlockedAchievements.push(key);
                    newAchievements.push(achievement);
                    
                    // –ù–∞–≥—Ä–∞–∂–¥–∞–µ–º –∏–≥—Ä–æ–∫–∞
                    coins += achievement.reward;
                    playerStats.totalWins += achievement.reward;
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
            playerStats.highestBalance = Math.max(playerStats.highestBalance, coins);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è—Ö
            newAchievements.forEach((achievement, index) => {
                setTimeout(() => {
                    showAchievementNotification(achievement);
                }, index * 1500);
            });
            
            if (newAchievements.length > 0) {
                saveUserData();
                saveCloudData();
                updateAchievementsDisplay();
            }
        }

        function updateAchievementsDisplay() {
            const grid = document.getElementById('achievementsGrid');
            grid.innerHTML = '';
            
            let unlockedCount = 0;
            
            for (const [key, achievement] of Object.entries(achievements)) {
                const isUnlocked = playerStats.unlockedAchievements.includes(key);
                if (isUnlocked) unlockedCount++;
                
                const card = document.createElement('div');
                card.className = `achievement-card ${isUnlocked ? 'unlocked' : 'locked'}`;
                
                const progress = achievement.progress(playerStats);
                
                card.innerHTML = `
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div class="achievement-name">${achievement.name}</div>
                    <div class="achievement-reward">+${achievement.reward} ü™ô</div>
                    ${!isUnlocked ? `
                        <div class="achievement-progress">
                            <div class="achievement-progress-bar" style="width: ${progress}%"></div>
                        </div>
                    ` : ''}
                `;
                
                grid.appendChild(card);
            }
            
            document.getElementById('achievementsCount').textContent = `${unlockedCount}/${Object.keys(achievements).length}`;
        }

        function showAchievementNotification(achievement) {
            const notification = document.getElementById('achievementNotification');
            const icon = document.getElementById('achievementNotificationIcon');
            const title = document.getElementById('achievementNotificationTitle');
            const desc = document.getElementById('achievementNotificationDesc');
            const reward = document.getElementById('achievementNotificationReward');
            
            icon.textContent = achievement.icon;
            title.textContent = achievement.name;
            desc.textContent = achievement.description;
            reward.textContent = `+${achievement.reward} –º–æ–Ω–µ—Ç`;
            
            notification.style.display = 'block';
            playSound('jackpot');
            createConfetti();
        }

        function closeAchievementNotification() {
            document.getElementById('achievementNotification').style.display = 'none';
            playSound('click');
        }

        // ========== –û–ë–ù–û–í–õ–ï–ù–ò–Ø –í –ò–ì–†–û–í–û–ô –õ–û–ì–ò–ö–ï ==========
        // –í —Ñ—É–Ω–∫—Ü–∏–∏ spinSlots (–ø–æ—Å–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—ã–∏–≥—Ä—ã—à–∞) –¥–æ–±–∞–≤–ª—è–µ–º:
        function updateStatsAfterSpin(isWin, winAmount = 0, isJackpot = false) {
            if (isWin) {
                playerStats.currentWinStreak++;
                if (isJackpot) {
                    playerStats.jackpotsWon++;
                }
            } else {
                playerStats.currentWinStreak = 0;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
            checkAchievements();
        }

        // –í —Ñ—É–Ω–∫—Ü–∏–∏ endCrashGame –¥–æ–±–∞–≤–ª—è–µ–º:
        function updateStatsAfterCrash(manualCashout, multiplier) {
            if (manualCashout) {
                playerStats.currentWinStreak++;
                playerStats.highestCashout = Math.max(playerStats.highestCashout, multiplier);
            } else {
                playerStats.currentWinStreak = 0;
            }
            
            checkAchievements();
        }

        // ========== –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–ò ==========
        document.addEventListener('DOMContentLoaded', function() {
            loadUserData();
            initializeNavigation();
            initializeSlotsGame();
            initializeCrashGame();
            initializeGoogleAuth(); // <-- –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é Google Auth
            initializeAchievements(); // <-- –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
            updateTotalUsersCount();
            
            document.getElementById('soundToggleBtn').addEventListener('click', toggleSound);
            
            window.addEventListener('beforeunload', function() {
                saveUserData();
                if (isGoogleAuthenticated) {
                    saveCloudData();
                }
            });

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ Google Sign-In
            window.handleGoogleSignIn = handleGoogleSignIn;
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é saveUserData –¥–ª—è –æ–±–ª–∞—á–Ω–æ–≥–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        const originalSaveUserData = saveUserData;
        saveUserData = function() {
            originalSaveUserData();
            if (isGoogleAuthenticated) {
                saveCloudData();
            }
        };
    </script>
</body>
</html>